<!DOCTYPE html><html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Estadio del Espejo - Lacan 3D Reflejo</title>
    <style>
        body { margin: 0; overflow: hidden; }
        #info {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(255,255,255,0.8);
            padding: 10px;
            font-family: Arial, sans-serif;
            z-index: 1;
        }
    </style>
</head>
<body>
<div id="info">
    <h3>Estadio del Espejo - Lacan (Reflejo Real)</h3>
    <p>Rojo: Cuerpo Fragmentado<br>
       Azul: Espejo con reflejo real<br>
       Líneas: Rayos visuales<br>
       Cámara: Posición del Sujeto</p>
</div>
<script type="module">
import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.161.0/build/three.module.js';
import { OrbitControls } from 'https://cdn.jsdelivr.net/npm/three@0.161.0/examples/jsm/controls/OrbitControls.js';
import { Reflector } from 'https://cdn.jsdelivr.net/npm/three@0.161.0/examples/jsm/objects/Reflector.js';const scene = new THREE.Scene(); scene.background = new THREE.Color(0xf0f0f0);

const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 100); camera.position.set(0, 1.5, 5);

const renderer = new THREE.WebGLRenderer(); renderer.setSize(window.innerWidth, window.innerHeight); document.body.appendChild(renderer.domElement);

const controls = new OrbitControls(camera, renderer.domElement); controls.enableDamping = true;

// Suelo const planeGeometry = new THREE.PlaneGeometry(10, 10); const planeMaterial = new THREE.MeshPhongMaterial({ color: 0x999999, side: THREE.DoubleSide }); const plane = new THREE.Mesh(planeGeometry, planeMaterial); plane.rotation.x = -Math.PI / 2; scene.add(plane);

// Espejo con reflejo real const mirror = new Reflector(new THREE.PlaneGeometry(5, 5), { color: new THREE.Color(0x0000ff), textureWidth: window.innerWidth * window.devicePixelRatio, textureHeight: window.innerHeight * window.devicePixelRatio }); mirror.position.z = -2; mirror.position.y = 1.5; scene.add(mirror);

// Cuerpo fragmentado (3 esferas rojas) const bodyMaterial = new THREE.MeshPhongMaterial({ color: 0xff0000 }); for (let i = 0; i < 3; i++) { const part = new THREE.Mesh(new THREE.SphereGeometry(0.2, 32, 32), bodyMaterial); part.position.set((i - 1) * 0.5, 0.4 + Math.random() * 0.5, 1 + Math.random() * 0.5); scene.add(part);

// Rayos visuales de cada parte al espejo y luego a la cámara
const points = [];
points.push(part.position.clone());
points.push(new THREE.Vector3(part.position.x, part.position.y, -2));
points.push(camera.position.clone());

const rayGeometry = new THREE.BufferGeometry().setFromPoints(points);
const rayMaterial = new THREE.LineBasicMaterial({ color: 0xffff00 });
const ray = new THREE.Line(rayGeometry, rayMaterial);
scene.add(ray);

}

// Luz const ambientLight = new THREE.AmbientLight(0xffffff, 0.6); scene.add(ambientLight); const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8); directionalLight.position.set(5, 10, 5); scene.add(directionalLight);

window.addEventListener('resize', () => { camera.aspect = window.innerWidth / window.innerHeight; camera.updateProjectionMatrix(); renderer.setSize(window.innerWidth, window.innerHeight); });

function animate() { requestAnimationFrame(animate); controls.update(); renderer.render(scene, camera); }

animate(); </script>

</body>
</html>
